<!-- Header y Navegación - Componente reutilizable -->
<header class="sticky top-0 z-50 bg-white shadow-md">
    <div class="container mx-auto px-4">
        <div class="flex items-center justify-between py-4">
            <!-- Logo -->
            <div class="flex items-center space-x-3 md:space-x-4">
                <div class="logo-container" style="width: 140px; height: auto;">
                    <img src="./assets/LA_CASA_DEL_ACORDEON.png" 
                         alt="La Casa del Acordeón" 
                         style="width: 100%; height: auto; object-fit: contain;">
                </div>
                <div>
                    <h1 class="logo-title font-bold text-primary">
                        La Casa del 
                        <span class="text-secondary block">Acordeón</span>
                    </h1>
                </div>
            </div>

            <!-- Navegación Desktop - CON CSS PURO -->
            <nav class="hidden md:flex items-center space-x-8 lg:space-x-12" style="margin-left: auto; margin-right: 1rem;">
                <a href="./index.html" class="nav-link">Inicio</a>
                
                <!-- Menú Categorías con CSS PURO -->
                <div class="categorias-menu">
                    <a href="#categorias" class="nav-link inline-flex items-center gap-1">
                        Categorías
                        <i class="fas fa-chevron-down text-xs chevron-icon"></i>
                    </a>
                    
                    <!-- Submenú -->
                    <div class="categorias-submenu">
                        <div class="py-2">
                            <a href="./nuevos_acordeones.html" class="submenu-item">
                                <i class="fas fa-crown" style="color: #DAA520; width: 1.25rem;"></i>
                                <span>Nuevos Acordeones</span>
                            </a>
                            <a href="./acordeones_usados.html" class="submenu-item">
                                <i class="fas fa-tag" style="color: #16a34a; width: 1.25rem;"></i>
                                <span>Acordeones usados / Ofertas</span>
                            </a>
                            <a href="./accesorios_piezas.html" class="submenu-item">
                                <i class="fas fa-toolbox" style="color: #2563eb; width: 1.25rem;"></i>
                                <span>Accesorios y Piezas</span>
                            </a>
                            <a href="./acordeon_diatonico.html" class="submenu-item">
                                <i class="fas fa-music" style="color: #d97706; width: 1.25rem;"></i>
                                <span>Acordeón Diatónico</span>
                            </a>
                            <a href="./partituras_metodos_libros.html" class="submenu-item">
                                <i class="fas fa-book-open" style="color: #9333ea; width: 1.25rem;"></i>
                                <span>Partituras / Métodos / Libros</span>
                            </a>
                        </div>
                        <!-- Flecha decorativa -->
                        <div class="submenu-arrow"></div>
                    </div>
                </div>
                
                <a href="./index.html#como-comprar" class="nav-link">Cómo Comprar</a>
                <a href="./index.html#talleres-contacto" class="nav-link">Talleres y Contacto</a>
            </nav>

            <!-- Mobile Menu Button -->
            <button id="mobileMenuBtn" class="md:hidden text-2xl text-primary">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <!-- Navegación Mobile -->
        <div id="mobileMenu" class="md:hidden hidden py-4 border-t">
            <div class="flex flex-col space-y-4">
                <a href="./index.html" class="font-semibold text-lg hover:text-primary transition py-2">
                    Inicio
                </a>
                
                <!-- Categorías en móvil con submenú -->
                <div class="space-y-2">
                    <button id="mobileCategoriasBtn" class="flex items-center justify-between w-full font-semibold text-lg hover:text-primary transition py-2">
                        <span>Categorías</span>
                        <i id="categoriasChevronMobile" class="fas fa-chevron-down text-sm transition-transform"></i>
                    </button>
                    
                    <div id="mobileSubmenu" class="hidden pl-4 space-y-2 border-l-2 border-gray-200 ml-2">
                        <a href="./nuevos_acordeones.html" class="block py-2 text-gray-600 hover:text-primary transition flex items-center gap-2">
                            <i class="fas fa-crown text-secondary w-4"></i>
                            Nuevos Acordeones
                        </a>
                        <a href="./acordeones_usados.html" class="block py-2 text-gray-600 hover:text-primary transition flex items-center gap-2">
                            <i class="fas fa-tag text-green-600 w-4"></i>
                            Acordeones usados / Ofertas
                        </a>
                        <a href="./accesorios_piezas.html" class="block py-2 text-gray-600 hover:text-primary transition flex items-center gap-2">
                            <i class="fas fa-toolbox text-blue-600 w-4"></i>
                            Accesorios y Piezas
                        </a>
                        <a href="./acordeon_diatonico.html" class="block py-2 text-gray-600 hover:text-primary transition flex items-center gap-2">
                            <i class="fas fa-music text-amber-600 w-4"></i>
                            Acordeón Diatónico
                        </a>
                        <a href="./partituras_metodos_libros.html" class="block py-2 text-gray-600 hover:text-primary transition flex items-center gap-2">
                            <i class="fas fa-book-open text-purple-600 w-4"></i>
                            Partituras / Métodos / Libros
                        </a>
                    </div>
                </div>
                
                <a href="./index.html#como-comprar" class="font-semibold text-lg hover:text-primary transition py-2">
                    Cómo Comprar
                </a>
                
                <a href="./index.html#talleres-contacto" class="font-semibold text-lg hover:text-primary transition py-2">
                    Talleres y Contacto
                </a>
                
                <a href="./index.html#talleres-contacto" class="bg-primary hover:bg-red-700 text-white px-5 py-3 rounded-full font-semibold transition flex items-center justify-center gap-2 shadow-md">
                    <i class="fas fa-crown"></i>
                    Hazte Socio Gratis
                </a>
            </div>
        </div>
    </div>


    <!-- ESTILOS CSS PURO - 100% FUNCIONAL -->
    <style>
        /* ESTILOS PARA EL MENÚ DESKTOP - FUNCIONAN SIEMPRE */
        .nav-link {
            font-weight: 600;
            font-size: 1.125rem;
            color: #374151;
            position: relative;
            transition: color 0.2s;
            text-decoration: none;
        }
        .nav-link:hover {
            color: #C8102E;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 3px;
            background: #C8102E;
            left: 0;
            bottom: -0.5rem;
            transition: width 0.2s;
        }
        .nav-link:hover::after {
            width: 100%;
        }

        /* CONTENEDOR DEL MENÚ CATEGORÍAS */
        .categorias-menu {
            position: relative;
        }

        /* SUBMENÚ - OCULTO POR DEFECTO */
        .categorias-submenu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 0.5rem;
            width: 16rem;
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);
            border: 1px solid #f3f4f6;
            z-index: 50;
        }

        /* MOSTRAR SUBMENÚ AL HACER HOVER */
        .categorias-menu:hover .categorias-submenu {
            display: block !important;
        }

        /* ROTAR CHEVRON AL HACER HOVER */
        .categorias-menu:hover .chevron-icon {
            transform: rotate(180deg);
            transition: transform 0.3s;
        }

        /* ESTILOS DE LOS ITEMS DEL SUBMENÚ */
        .submenu-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            color: inherit;
            text-decoration: none;
            transition: all 0.2s;
        }
        .submenu-item:hover {
            background-color: #f9fafb;
            color: #C8102E;
        }

        /* FLECHA DECORATIVA */
        .submenu-arrow {
            position: absolute;
            top: -0.5rem;
            left: 1.5rem;
            width: 1rem;
            height: 1rem;
            background: white;
            border-left: 1px solid #f3f4f6;
            border-top: 1px solid #f3f4f6;
            transform: rotate(45deg);
        }

        /* RESPONSIVE */
        @media (min-width: 768px) {
            .categorias-menu:hover .categorias-submenu {
                display: block;
            }
        }
    </style>
</header>

<script>
// Script para el menú móvil - CORREGIDO
document.addEventListener('DOMContentLoaded', function() {
    // Toggle menú móvil principal
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            mobileMenu.classList.toggle('hidden');
            const icon = this.querySelector('i');
            if (icon) {
                icon.classList.toggle('fa-bars');
                icon.classList.toggle('fa-times');
            }
        });
    }
    
    // Toggle submenú móvil
    const mobileCategoriasBtn = document.getElementById('mobileCategoriasBtn');
    const mobileSubmenu = document.getElementById('mobileSubmenu');
    const chevronMobile = document.getElementById('categoriasChevronMobile');
    
    if (mobileCategoriasBtn && mobileSubmenu) {
        mobileSubmenu.classList.add('hidden');
        
        mobileCategoriasBtn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            mobileSubmenu.classList.toggle('hidden');
            if (chevronMobile) {
                chevronMobile.classList.toggle('rotate-180');
            }
        });
    }
});
</script>